<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chatbot Conversation</title>
</head>
<body>
    <h1>Borben - Mental Health Chatbot</h1>
    <div id="conversation">
        <p> 
            <p>
                {%for message in conversation%}
                    {%if message['role'] == "user" %}
                        User: {{message['parts']}}
                        <br/>
                    {%endif%}
                    {%if message['role'] == "model"%}
                        Bot: {{message['parts']}}
                        <br/>
                    {%endif%}
                    <br/>
                {%endfor%}
            </p> 
        </p>
    </div>
    <form action="/chat" method="POST">
        <input type="text" name="prompt" placeholder="Type your message here">
        <button type="submit">Send</button>
        <p name = "answer">{{response}}</p>
    </form>

    <script>
        // Optional: Scroll to the bottom of the conversation on new messages
        const conversationDiv = document.getElementById('conversation');
        conversationDiv.scrollTop = conversationDiv.scrollHeight;
    </script>
</body>
</html>